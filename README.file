# Schedule Availability Detector(Limite is around 55 JPG)

## Overview

The Schedule Availability Detector is a web-based tool designed to help managers determine who is free at a given time using uploaded images of schedules.

Instead of reading text or calendar data, this tool analyzes the visual structure of schedule images to detect availability. This makes it reliable for frequently changing schedules that are shared as images or screenshots.

---

## Intended Use Case

1. A manager collects schedule images from multiple people.
2. Each schedule image is uploaded to the website.
3. The manager selects a start time from a dropdown.
4. The website determines whether each person is free or busy at that time.
5. The manager uses this information to make staffing or coordination decisions.

---

## Design Philosophy

This project intentionally avoids text recognition or calendar parsing.

The core assumption is:

White space represents free time.  
Colored blocks represent busy time.  
Black lines represent boundaries between time intervals.

By relying on color and structure rather than text, the tool remains simple, fast, and robust.

---

## Why the Start Time Dropdown Exists

The HTML canvas API cannot determine what time corresponds to a pixel position in an image.

To solve this, the user provides a time anchor using a dropdown. This selected start time corresponds to a known horizontal reference in the schedule image. All other times are calculated relative to this anchor using fixed time intervals.

This avoids errors caused by OCR, inconsistent fonts, or layout differences.

---

## Schedule Image Handling and Storage Behavior

When the application starts, the schedule image directory is intentionally empty.

No schedules are preloaded, cached, or stored by default.

As the user uploads schedule images (JPG/PNG files), each image is added to the system dynamically for processing. The application treats each uploaded image as a temporary input representing one person’s current schedule.

Schedules are added incrementally as the user uploads them and are processed in the order they are received.

This design ensures:
- The tool always reflects the most current schedules
- Outdated schedules are not accidentally reused
- The system remains stateless between sessions unless explicitly extended

---

## Design Rationale

Schedules change frequently, and managers often work with the latest image provided by each person.

Starting with an empty schedule directory avoids:
- Stale or incorrect availability data
- Confusion about which schedules are active
- Manual cleanup between uses

By building the schedule set dynamically during each session, the tool guarantees that availability calculations are based only on the images the user has intentionally provided.

---

## Conceptual Flow

1. Application loads with no schedules present.
2. User uploads a schedule image.
3. The image is added to the active schedule set.
4. The canvas analyzes the image for availability.
5. The process repeats as additional schedules are uploaded.

At no point does the system assume persistent storage unless explicitly implemented in the future.

## How Availability Detection Works

### Image Processing
- The uploaded schedule image is drawn onto an HTML canvas.
- The canvas allows pixel-level access to the image.

### Time Mapping
- The selected start time maps to a specific horizontal pixel row.
- Each vertical interval represents a fixed time duration (for example, 30 minutes).

### Pixel Analysis
At the pixel row corresponding to the requested time:
- White pixels indicate free time.
- Any non-white pixels indicate busy time.
- Black pixels indicate the end of a time interval.

### Decision Logic
- If the area at the requested time is white, the person is free.
- If the area contains color, the person is busy.
- Black lines define hard boundaries between time blocks.

---

## Assumptions About Schedule Images

For accurate results, schedule images should:
- Use white or near-white backgrounds for free time
- Use colored blocks for occupied time
- Use black or dark lines to separate time intervals
- Maintain consistent vertical spacing between time slots

Planner-style schedules commonly used in schools and workplaces work best.

---

## What This Tool Is Not

- It does not read text from images
- It does not interpret class or event names
- It does not integrate with calendar APIs
- It does not rely on any specific schedule provider

---

## Why This Approach Works

- Visual schedules already communicate availability clearly
- White space is a universal indicator of free time
- Color blocks clearly show commitments
- Managers care about availability, not labels

This approach focuses on reliability and simplicity.

---

## Summary

The Schedule Availability Detector determines availability by:
- Anchoring time using user input
- Analyzing pixel colors on a canvas
- Treating white as free and color as busy

It is a practical tool for real-world schedule management where images are the primary format.



Schedule Availability Detector
Overview

The Schedule Availability Detector is a web-based tool designed to determine availability from schedule images (JPG/PNG), without relying on text recognition, calendars, or external integrations.

Instead of interpreting labels or event names, the system analyzes the visual structure of schedules using pixel-level analysis on an HTML canvas. This makes the tool robust against inconsistent formatting, fonts, and rapidly changing schedules that are commonly shared as screenshots or photos.

Intended Use Case

A manager collects schedule images from multiple people.

Each person’s schedule image is uploaded to the website.

For each image, the user selects a start time anchor.

The manager queries a day and time range.

The system determines who is free at those times based solely on visual availability.

The manager uses the results to make staffing or coordination decisions.

Core Design Philosophy

This project intentionally avoids:

Optical Character Recognition (OCR)

Calendar APIs

Text parsing

Assumptions about schedule providers

Instead, it relies on a consistent interpretation of visual structure:

White space represents free time.
Colored regions represent busy time.
Dark horizontal lines represent time boundaries.
Dark vertical lines represent day boundaries.

Schedules are treated as structured grids, not documents.

Anchored Time Model (Why the Start Time Dropdown Exists)

The HTML canvas API cannot determine what time corresponds to a pixel position in an image.

To solve this, the system uses a user-provided time anchor. The selected start time corresponds to a known horizontal reference in the schedule image. All other times are calculated relative to this anchor using fixed time intervals (for example, 30 minutes).

This explicit anchoring:

Eliminates OCR-related errors

Avoids font and layout dependency

Makes time mapping deterministic and explainable

Plot-on-Demand Availability Detection

The system does not precompute a full weekly availability table.

Instead, availability is computed only when a query is made:

Each uploaded image is preprocessed once to generate pixel masks and prefix sums.

Horizontal time lines are detected to identify fixed time intervals.

At query time, the system jumps directly to the requested time band.

The image is swept horizontally across that band.

Vertical dividers are detected to split the row into weekday regions.

Only the requested cells are classified as free or busy.

This approach reduces state, minimizes unnecessary computation, and mirrors how schedules are visually structured.

Image Processing Strategy

Preprocessing (once per image):

The image is drawn to an offscreen canvas.

White and dark pixel masks are generated.

Prefix sums are built for fast rectangular area queries.

Horizontal grid lines are detected using consistency and spacing.

Query-time analysis:

Requested times are mapped to pixel bands using the anchor time.

Day regions are determined using vertical divider detection.

Each cell is classified by white pixel ratio, making the system robust to text and borders.

Weekday-Only Scope (Monday–Friday)

This tool intentionally supports Monday through Friday schedules only.

This constraint:

Matches common academic and workplace usage

Simplifies segmentation logic

Reduces ambiguity

Improves reliability

Weekends are explicitly excluded.

Schedule Image Assumptions

For accurate results, schedule images should:

Use white or near-white backgrounds for free time

Use colored blocks for occupied time

Use dark lines to separate time intervals and days

Maintain consistent vertical spacing between time slots

Planner-style schedules used in schools and workplaces work best.

Session-Based Schedule Handling

When the application starts, no schedules are loaded or cached.

Schedule images are added dynamically as the user uploads them. Each uploaded image represents one person’s current schedule and exists only for the duration of the session.

This design ensures:

No stale data

Clear user intent

Predictable behavior

Easy extension to persistence if desired

What This Tool Is Not

It does not read text from images

It does not interpret class or event names

It does not integrate with calendar APIs

It does not rely on any specific schedule provider

Why This Approach Works

Visual schedules already communicate availability clearly.

White space universally indicates free time.
Colored blocks indicate commitments.

By anchoring time explicitly and analyzing schedules geometrically rather than textually, the tool remains simple, fast, and reliable.

Summary

The Schedule Availability Detector determines availability by:

Anchoring time using explicit user input

Analyzing pixel structure rather than text

Plotting availability only when queried

Treating schedules as geometric grids

This approach is practical for real-world schedule management where images are the primary format.